% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/forecast_season.R
\name{forecast_season}
\alias{forecast_season}
\title{Forecast Season Standings Using Team Strength Predictions}
\usage{
forecast_season(
  games_current_season,
  strength_pred,
  matchday,
  prev_model = NULL,
  n_sims = 1000,
  update_rate = 0.05,
  xG_weight = 1,
  var_factor = 1,
  variance_decay_param = 0.1,
  mixture_weight_param = 0.05,
  mixture_start_matchday = 3,
  decimal_places = 4,
  verbose = TRUE
)
}
\arguments{
\item{games_current_season}{A data frame containing match results for the current season.
Must include columns: Home, Away, HomeGoals, AwayGoals, Wk (matchday).
Optional columns: Home_xG, Away_xG (expected goals data).}

\item{strength_pred}{A list containing pre-season strength predictions with elements:
att_pred (attack strengths), def_pred (defense strengths), ha (home advantage),
intercept, att_var (attack variance), def_var (defense variance).}

\item{matchday}{Integer specifying the last completed matchday to update model parameters.
Use 0 for pre-season forecasts without any completed games.}

\item{n_sims}{Integer number of Monte Carlo simulations to run (default: 1000).}

\item{update_rate}{Numeric learning rate for Bayesian parameter updates after each matchday (0-1).}

\item{xG_weight}{Numeric weight for incorporating expected goals data (0-1).
0 = use only actual goals, 1 = use only xG data. Automatically set to 0 if xG data unavailable.}

\item{decimal_places}{Integer number of decimal places for rounding probabilities and statistics (default: 4).}

\item{verbose}{Logical controlling whether print statements are used to update on progress.}
}
\value{
A data frame with final season standings probabilities containing:
\item{team}{Team names}
\item{avg_standing}{Average final league position across simulations}
\item{sd_standing}{Standard deviation of final positions}
\item{prob_1, prob_2, ...}{Probability of finishing in each position (1st, 2nd, etc.)}
}
\description{
Simulates the remainder of a football season based on current results and
pre-season team strength predictions, incorporating Bayesian updating of
team parameters through completed matchdays.
}
\details{
The function operates in three main phases:
\enumerate{
\item Creates initial model from pre-season strength predictions
\item Updates model parameters using Bayesian learning on completed matchdays
\item Simulates remaining fixtures with parameter uncertainty via resampling
}

Parameter updating uses prediction errors to adjust team attack and defense strengths.
When xG data is available and xG_weight > 0, it blends actual goals with expected goals.
Each simulation resamples team parameters from their posterior distributions to account
for parameter uncertainty.
}
\examples{
\dontrun{
# Pre-season forecast
forecast <- forecast_season(games_data, strength_predictions,
                          matchday = 0, n_sims = 1000,
                          update_rate = 0.05, xG_weight = 0.5)

# Mid-season forecast after 10 matchdays
forecast <- forecast_season(games_data, strength_predictions,
                          matchday = 10, n_sims = 500,
                          update_rate = 0.03, xG_weight = 0.8)
}

}
\seealso{
\code{\link{predict_strength_pre_season}} for generating strength predictions
}
